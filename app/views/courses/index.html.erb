<%= render 'search_form' %>

<style>
  .course-info li {
    display: inline-block;
    position: relative;
  }
  .course-info span {
    padding-left: 35px;
    margin: 0;
    color: #939393;
    font-size: 12px;
    line-height: 1.2em;
  }
  .course-info h2 {
    padding-left: 35px;
    margin: 0;
    font-size: 16px;
    line-height: 1.5em;
  }
  .course-info i {
    font-size: 25px;
    position: absolute;
    padding-right: 2.5em;
    top: 20%;
  }
  .panel-group .panel {
    margin-bottom: 20px;
  }
</style>

<section class="row">
  <dl class="panel-group" id="courseInfoList" role="tablist" aria-multiselectable="true">
    <% @courses.each do |course| %>
    <dd class="panel panel-info">
      <h1 class="sr-only"><%= course.title %></h1>
      <section id="heading_<%= course.id %>" class="panel-heading" role="tab">
        <header clas="panel-title">
          <ul class="course-info list-unstyled clearfix">
            <li class="col-xs-6 col-sm-3">
              <i class="glyphicon glyphicon-star" aria-hidden="true"></i>
              <span>Rank#</span>
              <h2><%= course.rank %></h2>
            </li>
            <li class="col-xs-6 col-sm-3">
              <i class="glyphicon glyphicon-list-alt" aria-hidden="true"></i>
              <span>課程名稱</span>
              <h2><%= course.title %></h2>
            </li>
            <li class=" col-xs-6 col-sm-2">
              <i class="glyphicon glyphicon-user" aria-hidden="true"></i>
              <span>授課教師</span>
              <h2><%= course.instructor %></h2>
            </li>
            <li class="col-xs-6 col-sm-2">
              <i class="glyphicon glyphicon-tag" aria-hidden="true"></i>
              <span>課程類別</span>
              <h2><%= course.category %></h2>
            </li>
            <li class="col-xs-12 col-sm-2">
              <a href="#<%= course.instructor %>_<%= course.id %>" class="btn btn-primary" data-toggle="collapse" data-parent="#courseInfoList" aria-expanded="true" aria-controls="<%= course.instructor %>_<%= course.id %>">開課資訊</a>
            </li>
          </ul>
        </header>
      </section>
      <section id="<%= course.instructor %>_<%= course.id %>" class="panel-collapse collapse" role="tabpanel" aria-labelby="heading_<%= course.id %>">
        <h1 class="sr-only">開課資訊</h1>
        <article class="panel-body">
          <table class="table table-hover table-striped">
            <thead>
              <tr class="">
                <th>課程代碼</th>
                <th>上課時段</th>
                <th>學分數</th>
                <th>開課系級</th>
                <th>追蹤課程</th>
              </tr>
            </thead>
            <tbody>
              <% course.entries.each do |entry| %>
              <tr>
                <td><%= entry.code %></td>
                <td><%= entry.time %></td>
                <td><%= entry.credit %></td>
                <td><%= entry.department %></td>
                <td><a class="btn btn-sm btn-default">追蹤課程</a></td>
              </tr>
              <% end %>
            </tbody>
          </table>
        </article>
      </section>
      <footer class="panel-footer">

      </footer>
    </dd>
    <% end %>
  </dl>
</section>


<div class="text-center">
  <%= paginate @courses %>
</div>
